# Netflix Clone Backend - Complete Project Documentation

## ğŸ“‹ Table of Contents
1. [Project Overview](#project-overview)
2. [Architecture](#architecture)
3. [Technologies Used](#technologies-used)
4. [Project Setup & Build Process](#project-setup--build-process)
5. [Database Configuration](#database-configuration)
6. [Project Structure](#project-structure)
7. [Implementation Details](#implementation-details)
8. [API Endpoints](#api-endpoints)
9. [Running the Application](#running-the-application)
10. [Testing](#testing)

---

## ğŸ¬ Project Overview

**Netflix Clone Backend** is a Spring Boot REST API application that mimics Netflix's core functionality for managing movies and genres. It provides complete CRUD operations with a clean, layered architecture following industry best practices.

### Key Features
- âœ… Movie Management (Create, Read, Update, Delete, Search)
- âœ… Genre Management (Create, Read, Update, Delete)
- âœ… MySQL Database Integration
- âœ… RESTful API Design
- âœ… Global Exception Handling
- âœ… Data Transfer Objects (DTOs)
- âœ… Lombok for Clean Code
- âœ… Maven Wrapper for Easy Builds

---

## ğŸ—ï¸ Architecture

The project follows a **Layered Architecture Pattern**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         REST Controllers            â”‚  (API Layer)
â”‚    (Handle HTTP Requests/Responses) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Service Layer               â”‚  (Business Logic)
â”‚   (Business Rules & Processing)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Repository Layer               â”‚  (Data Access)
â”‚   (Database Operations via JPA)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         MySQL Database              â”‚  (Persistence)
â”‚   (Stores Movie & Genre Data)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Design Patterns Used
- **MVC Pattern**: Model-View-Controller separation
- **Repository Pattern**: Abstraction of data access
- **Service Layer Pattern**: Encapsulation of business logic
- **DTO Pattern**: Data transformation between layers
- **Exception Handling Pattern**: Centralized error management

---

## ğŸ› ï¸ Technologies Used

| Component | Technology | Version |
|-----------|-----------|---------|
| Framework | Spring Boot | 3.2.1 |
| Language | Java | 17 |
| ORM | Spring Data JPA | 3.2.1 |
| Database | MySQL | 8.0+ |
| Database Driver | mysql-connector-j | 8.2.0 |
| Build Tool | Maven | 3.9.6 |
| Code Generation | Lombok | Latest |
| Validation | Spring Validation | 3.2.1 |
| Server | Apache Tomcat | 10.1.17 |
| JSON Processing | Jackson | 2.14.2 |

---

## ğŸ”§ Project Setup & Build Process

### Step 1: Maven Configuration (pom.xml)
**What was done:**
- Created Maven POM file with Spring Boot parent
- Added all necessary dependencies:
  - Spring Web (REST API support)
  - Spring Data JPA (Database ORM)
  - MySQL Driver (Database connectivity)
  - Lombok (Reduce boilerplate code)
  - Validation (Input validation)
  - DevTools (Hot reload during development)
- Configured Maven plugins for building executable JAR

### Step 2: Maven Wrapper Setup
**What was done:**
- Added `.mvn/wrapper/maven-wrapper.properties` for automatic Maven download
- Created `mvnw` (Unix) and `mvnw.cmd` (Windows) scripts
- Allows running builds without installing Maven globally
- Ensures consistent build environment across machines

**Command used:**
```bash
./mvnw clean install    # Builds the project
./mvnw spring-boot:run  # Runs the application
```

### Step 3: Database Configuration
**What was done:**
- Configured `application.properties` with MySQL connection details:
  - Remote MySQL Server: `64.225.21.133:3306`
  - Database: `netflix_clone`
  - Credentials: `messi` / `messiop`
  - Auto-create database if not exists
  - Auto schema generation (Hibernate ddl-auto=update)

---

## ğŸ’¾ Database Configuration

### Connection Properties
```properties
spring.datasource.url=jdbc:mysql://64.225.21.133:3306/netflix_clone?createDatabaseIfNotExist=true&allowPublicKeyRetrieval=true&useSSL=false
spring.datasource.username=messi
spring.datasource.password=messiop
spring.jpa.hibernate.ddl-auto=update
```

### Database Schema (Auto-generated by Hibernate)

#### Movies Table
```sql
CREATE TABLE movies (
  id BIGINT AUTO_INCREMENT PRIMARY KEY,
  title VARCHAR(255) NOT NULL,
  description LONGTEXT,
  thumbnail_url VARCHAR(255),
  video_url VARCHAR(255),
  duration INT,
  rating DOUBLE,
  release_date VARCHAR(255),
  created_at BIGINT NOT NULL,
  updated_at BIGINT NOT NULL
);
```

#### Genres Table
```sql
CREATE TABLE genres (
  id BIGINT AUTO_INCREMENT PRIMARY KEY,
  name VARCHAR(255) NOT NULL UNIQUE,
  description VARCHAR(255),
  created_at BIGINT NOT NULL
);
```

---

## ğŸ“ Project Structure

```
Netflix-Clone/
â”œâ”€â”€ pom.xml                          # Maven configuration
â”œâ”€â”€ mvnw                             # Maven wrapper (Unix)
â”œâ”€â”€ mvnw.cmd                         # Maven wrapper (Windows)
â”œâ”€â”€ .mvn/
â”‚   â””â”€â”€ wrapper/
â”‚       â””â”€â”€ maven-wrapper.properties # Maven version config
â”œâ”€â”€ src/
â”‚   â””â”€â”€ main/
â”‚       â”œâ”€â”€ java/
â”‚       â”‚   â””â”€â”€ com/netflixclone/backend/
â”‚       â”‚       â”œâ”€â”€ NetflixBackendApplication.java     # Main entry point
â”‚       â”‚       â”œâ”€â”€ controller/
â”‚       â”‚       â”‚   â”œâ”€â”€ MovieController.java           # Movie REST endpoints
â”‚       â”‚       â”‚   â””â”€â”€ GenreController.java           # Genre REST endpoints
â”‚       â”‚       â”œâ”€â”€ service/
â”‚       â”‚       â”‚   â”œâ”€â”€ MovieService.java              # Movie business logic
â”‚       â”‚       â”‚   â””â”€â”€ GenreService.java              # Genre business logic
â”‚       â”‚       â”œâ”€â”€ repository/
â”‚       â”‚       â”‚   â”œâ”€â”€ MovieRepository.java           # Movie data access
â”‚       â”‚       â”‚   â””â”€â”€ GenreRepository.java           # Genre data access
â”‚       â”‚       â”œâ”€â”€ model/
â”‚       â”‚       â”‚   â”œâ”€â”€ Movie.java                     # Movie entity
â”‚       â”‚       â”‚   â””â”€â”€ Genre.java                     # Genre entity
â”‚       â”‚       â”œâ”€â”€ dto/
â”‚       â”‚       â”‚   â”œâ”€â”€ MovieDTO.java                  # Movie transfer object
â”‚       â”‚       â”‚   â””â”€â”€ GenreDTO.java                  # Genre transfer object
â”‚       â”‚       â””â”€â”€ exception/
â”‚       â”‚           â”œâ”€â”€ ErrorResponse.java             # Error response format
â”‚       â”‚           â””â”€â”€ GlobalExceptionHandler.java    # Global exception handling
â”‚       â””â”€â”€ resources/
â”‚           â””â”€â”€ application.properties                 # Configuration file
â””â”€â”€ target/
    â””â”€â”€ classes/
        â””â”€â”€ compiled Java classes and resources
```

---

## ğŸ”¨ Implementation Details

### 1. Entity Classes (Model Layer)

#### Movie.java
**Purpose:** JPA Entity representing a movie record
**Features:**
- Auto-incrementing ID
- Timestamps (createdAt, updatedAt)
- All movie attributes
- JPA annotations for database mapping
- Lombok annotations for getters/setters

```java
@Entity
@Table(name = "movies")
public class Movie {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    
    @Column(nullable = false)
    private String title;
    
    // ... other fields
    
    @PrePersist
    protected void onCreate() {
        createdAt = System.currentTimeMillis();
    }
}
```

#### Genre.java
**Purpose:** JPA Entity representing a genre
**Features:**
- Unique constraint on name
- Timestamp tracking
- Lombok for clean code

### 2. Repository Layer

#### MovieRepository.java
**Purpose:** Data access layer for movies
**Methods:**
- `findAll()` - Get all movies (from JpaRepository)
- `findById(Long id)` - Get movie by ID
- `save(Movie)` - Create/update movie
- `delete(Movie)` - Delete movie
- `findByTitleContainingIgnoreCase(String title)` - Custom search by title

```java
@Repository
public interface MovieRepository extends JpaRepository<Movie, Long> {
    List<Movie> findByTitleContainingIgnoreCase(String title);
}
```

#### GenreRepository.java
**Purpose:** Data access layer for genres
**Custom Methods:**
- `findByName(String name)` - Get genre by name

### 3. Service Layer (Business Logic)

#### MovieService.java
**Purpose:** Business logic for movie operations
**Methods:**
- `createMovie(Movie)` - Create new movie
- `getAllMovies()` - Fetch all movies
- `getMovieById(Long id)` - Fetch specific movie
- `searchMoviesByTitle(String title)` - Search functionality
- `updateMovie(Long id, Movie)` - Update movie details
- `deleteMovie(Long id)` - Delete movie

**Key Feature:** Service handles business rules and delegates to repository

```java
@Service
public class MovieService {
    private final MovieRepository movieRepository;
    
    public Movie createMovie(Movie movie) {
        return movieRepository.save(movie);
    }
    
    public Movie getMovieById(Long id) {
        return movieRepository.findById(id)
            .orElseThrow(() -> new RuntimeException("Movie not found"));
    }
}
```

#### GenreService.java
**Purpose:** Business logic for genre operations
**Similar structure to MovieService**

### 4. Controller Layer (API Endpoints)

#### MovieController.java
**Purpose:** REST endpoints for movie operations
**Endpoints:**
- `POST /api/movies` - Create movie
- `GET /api/movies` - List all movies
- `GET /api/movies/{id}` - Get movie by ID
- `GET /api/movies/search/{title}` - Search movies
- `PUT /api/movies/{id}` - Update movie
- `DELETE /api/movies/{id}` - Delete movie

```java
@RestController
@RequestMapping("/movies")
@CrossOrigin("*")
public class MovieController {
    
    @PostMapping
    public ResponseEntity<Movie> createMovie(@RequestBody Movie movie) {
        return new ResponseEntity<>(movieService.createMovie(movie), 
                                    HttpStatus.CREATED);
    }
    
    @GetMapping
    public ResponseEntity<List<Movie>> getAllMovies() {
        return new ResponseEntity<>(movieService.getAllMovies(), 
                                    HttpStatus.OK);
    }
}
```

#### GenreController.java
**Purpose:** REST endpoints for genre operations
**Similar structure to MovieController**

### 5. Exception Handling

#### GlobalExceptionHandler.java
**Purpose:** Centralized exception handling for the entire application
**Features:**
- Catches all RuntimeExceptions
- Catches generic Exceptions
- Returns structured error response

```java
@RestControllerAdvice
public class GlobalExceptionHandler {
    
    @ExceptionHandler(RuntimeException.class)
    public ResponseEntity<ErrorResponse> handleRuntimeException(
            RuntimeException ex) {
        ErrorResponse error = new ErrorResponse(
            HttpStatus.NOT_FOUND.value(),
            ex.getMessage(),
            System.currentTimeMillis()
        );
        return new ResponseEntity<>(error, HttpStatus.NOT_FOUND);
    }
}
```

#### ErrorResponse.java
**Purpose:** Standard error response format
**Fields:**
- status (HTTP status code)
- message (Error description)
- timestamp (When error occurred)

### 6. DTOs (Data Transfer Objects)

#### MovieDTO.java
**Purpose:** Transfer movie data between layers
**Benefits:**
- Separates internal representation from API representation
- Can exclude sensitive fields
- Provides data transformation capability

#### GenreDTO.java
**Purpose:** Transfer genre data between layers

### 7. Application Entry Point

#### NetflixBackendApplication.java
**Purpose:** Spring Boot application starter class
**Features:**
- `@SpringBootApplication` annotation enables auto-configuration
- `main()` method starts the embedded Tomcat server
- Automatically scans and registers all components

---

## ğŸ”Œ API Endpoints

### Base URL
```
http://localhost:8080/api
```

### Movie Endpoints

#### 1. Create Movie
```
POST /movies
Content-Type: application/json

Request Body:
{
  "title": "Inception",
  "description": "A mind-bending sci-fi thriller",
  "duration": 148,
  "rating": 8.8,
  "releaseDate": "2010-07-16",
  "thumbnailUrl": "https://example.com/inception.jpg",
  "videoUrl": "https://example.com/inception.mp4"
}

Response: 201 Created
{
  "id": 1,
  "title": "Inception",
  ...
}
```

#### 2. Get All Movies
```
GET /movies

Response: 200 OK
[
  {
    "id": 1,
    "title": "Inception",
    ...
  }
]
```

#### 3. Get Movie by ID
```
GET /movies/{id}

Response: 200 OK
{
  "id": 1,
  "title": "Inception",
  ...
}
```

#### 4. Search Movies by Title
```
GET /movies/search/{title}

Example: GET /movies/search/Inception

Response: 200 OK
[
  {
    "id": 1,
    "title": "Inception",
    ...
  }
]
```

#### 5. Update Movie
```
PUT /movies/{id}
Content-Type: application/json

Request Body:
{
  "title": "Inception - Updated",
  "rating": 9.0,
  ...
}

Response: 200 OK
{
  "id": 1,
  "title": "Inception - Updated",
  ...
}
```

#### 6. Delete Movie
```
DELETE /movies/{id}

Response: 200 OK
"Movie deleted successfully"
```

### Genre Endpoints

#### 1. Create Genre
```
POST /genres
Content-Type: application/json

Request Body:
{
  "name": "Science Fiction",
  "description": "Movies about futuristic themes"
}

Response: 201 Created
{
  "id": 1,
  "name": "Science Fiction",
  ...
}
```

#### 2. Get All Genres
```
GET /genres

Response: 200 OK
[
  {
    "id": 1,
    "name": "Science Fiction",
    ...
  }
]
```

#### 3. Get Genre by ID
```
GET /genres/{id}

Response: 200 OK
{
  "id": 1,
  "name": "Science Fiction",
  ...
}
```

#### 4. Update Genre
```
PUT /genres/{id}
Content-Type: application/json

Response: 200 OK
```

#### 5. Delete Genre
```
DELETE /genres/{id}

Response: 200 OK
"Genre deleted successfully"
```

---

## ğŸš€ Running the Application

### Prerequisites
- Java 17 or higher
- Maven (or use Maven Wrapper included)
- Network access to MySQL server

### Step 1: Clone/Navigate to Project
```bash
cd /Users/azhaghumaathavan/College/Backend-SpringBoot/Netflix-Clone
```

### Step 2: Configure Database (if needed)
Edit `src/main/resources/application.properties`:
```properties
spring.datasource.url=jdbc:mysql://YOUR_HOST:3306/netflix_clone?createDatabaseIfNotExist=true&allowPublicKeyRetrieval=true&useSSL=false
spring.datasource.username=YOUR_USERNAME
spring.datasource.password=YOUR_PASSWORD
```

### Step 3: Build the Project
```bash
./mvnw clean install
```

### Step 4: Run the Application
```bash
./mvnw spring-boot:run
```

### Step 5: Verify It's Running
```bash
curl http://localhost:8080/api/movies
```

Expected Response:
```json
[]
```

---

## ğŸ§ª Testing

### Using cURL

#### Test 1: Get all movies (should be empty initially)
```bash
curl http://localhost:8080/api/movies
```

#### Test 2: Create a movie
```bash
curl -X POST http://localhost:8080/api/movies \
  -H "Content-Type: application/json" \
  -d '{
    "title": "The Matrix",
    "description": "A computer hacker learns about the nature of reality",
    "duration": 136,
    "rating": 8.7,
    "releaseDate": "1999-03-31",
    "thumbnailUrl": "https://example.com/matrix.jpg",
    "videoUrl": "https://example.com/matrix.mp4"
  }'
```

#### Test 3: Get all movies (should show the created movie)
```bash
curl http://localhost:8080/api/movies
```

#### Test 4: Get specific movie
```bash
curl http://localhost:8080/api/movies/1
```

#### Test 5: Search movies by title
```bash
curl http://localhost:8080/api/movies/search/Matrix
```

#### Test 6: Update a movie
```bash
curl -X PUT http://localhost:8080/api/movies/1 \
  -H "Content-Type: application/json" \
  -d '{
    "title": "The Matrix - Director Cut",
    "rating": 9.0
  }'
```

#### Test 7: Delete a movie
```bash
curl -X DELETE http://localhost:8080/api/movies/1
```

### Using Postman
1. Import the endpoint URLs into Postman
2. Set headers: `Content-Type: application/json`
3. Use the request bodies from cURL examples
4. Send and verify responses

---

## ğŸ“ Summary of What Was Done

### Phase 1: Project Setup
âœ… Created Maven project structure with Spring Boot
âœ… Added all necessary dependencies (Spring Web, JPA, MySQL Driver, Lombok)
âœ… Configured Maven Wrapper for easy builds
âœ… Set up database connection properties

### Phase 2: Database Layer
âœ… Created Movie and Genre entity classes with JPA annotations
âœ… Implemented MovieRepository and GenreRepository interfaces
âœ… Configured Hibernate for auto schema generation

### Phase 3: Business Logic Layer
âœ… Implemented MovieService with CRUD and search operations
âœ… Implemented GenreService with CRUD operations
âœ… Added proper exception handling and error messages

### Phase 4: API Layer
âœ… Created MovieController with 6 REST endpoints
âœ… Created GenreController with 5 REST endpoints
âœ… Added CORS support for cross-origin requests
âœ… Implemented proper HTTP status codes

### Phase 5: Exception Handling & Response Format
âœ… Created GlobalExceptionHandler for centralized error handling
âœ… Created ErrorResponse class for standardized error format
âœ… Created DTOs for clean data transfer

### Phase 6: Testing & Deployment
âœ… Verified database connection to remote MySQL server
âœ… Tested all API endpoints
âœ… Confirmed application starts successfully
âœ… Application running on port 8080 with context path /api

---

## ğŸ¯ Next Steps (Future Enhancements)

1. **User Management**: Add User entity and authentication
2. **JWT Authentication**: Implement token-based security
3. **Movie-Genre Relationship**: Create many-to-many association
4. **Pagination**: Add pagination to list endpoints
5. **Sorting & Filtering**: Advanced query capabilities
6. **Video Streaming**: Add file upload and streaming
7. **Ratings & Reviews**: User rating system
8. **Admin Dashboard**: Admin-only endpoints
9. **Caching**: Redis integration for performance
10. **API Documentation**: Swagger/OpenAPI integration

---

## ğŸ“š Technology References

- **Spring Boot Documentation**: https://spring.io/projects/spring-boot
- **Spring Data JPA**: https://spring.io/projects/spring-data-jpa
- **MySQL Documentation**: https://dev.mysql.com/doc/
- **Lombok**: https://projectlombok.org/
- **Maven**: https://maven.apache.org/

---

**Project Status**: âœ… **COMPLETE AND RUNNING**

**Developed**: 27 January 2026
**Version**: 1.0.0
**Author**: Netflix Clone Backend Team
